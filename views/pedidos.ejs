<% include layout %>
<h1>Pedidos</h1>
<form action="/pedidos" method="post">
    <div class="form-group">
        <label for="fecha">Fecha:</label>
        <input type="date" class="form-control" id="fecha" name="fecha">
    </div>
    <div class="form-group">
        <label for="idcliente">ID Cliente:</label>
        <input type="text" class="form-control" id="idcliente" name="idcliente">
    </div>
    <div class="form-group">
        <label for="estado">Estado:</label>
        <input type="text" class="form-control" id="estado" name="estado">
    </div>
    <button type="submit" class="btn btn-primary">Agregar Pedido</button>
</form>
<table id="pedidosTable" class="table table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>Fecha</th>
            <th>ID Cliente</th>
            <th>Estado</th>
        </tr>
    </thead>
    <tbody>
        <% pedidos.forEach(pedido => { %>
            <tr>
                <td><%= pedido._id %></td>
                <td><%= pedido.fecha.toISOString().split('T')[0] %></td>
                <td><%= pedido.idcliente %></td>
                <td><%= pedido.estado %></td>
            </tr>
        <% }) %>
    </tbody>
</table>
<script>
    $(document).ready(function() {
        $('#pedidosTable').DataTable();
    });
</script>
